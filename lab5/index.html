<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="author" content="Dawid Pawlowski">
    <script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
    <script src="C:\Users\Jakub\Desktop\studia rok 3\Projektowanie serwisów WWW\lab5\main.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
</head>
<body>

    <script>
        // zad1
        function odejmowanie(a, b) {
            return a - b;
        }
        console.log("Odejmowanie = "+odejmowanie(moje.parametry.wzrost, moje.parametry.wyksztalcenie.poziom));


        function nowy_string(s1, s2) {
            var s3 = `Nowy string ${s2} i ${s1} `
            console.log(s3)
        }
        nowy_string(moje.parametry.plec, moje.Test.poziom[1]);


        //zad2 
        const posty2 = fetch('https://jsonplaceholder.typicode.com/posts');

        posty2
        function getPost2(response) {
            return new Promise((resolve, reject) => {
                if (response !== 200) {
                    resolve(response);

                } else {
                    reject('Nie znaleziono artykułu o takim id.');
                }
            });
        }

        getPost2(posty2)
            .then(response => response.json().then(function (data) {
                console.log(data[0].id + data[1].id);
                console.log(data[5].title, data[2].title);
                var strzad2 = data[1].title + data[2].title
            }))
            .catch(error => console.log("example 2:", error))
            .finally(() => console.log('Koniec zad2- koniec pobierania'));



        // zad3 async
        async function setArticleData6(posty2) {
            const article = await getPost2(posty2);
            console.log("Zad2 dziala");
        }

        setArticleData6(posty2);

        //zad4 ajax
        let url = 'https://jsonplaceholder.typicode.com/posts/1';
        let xhr = new XMLHttpRequest();

        xhr.open('GET', url);

        xhr.responseType = 'json';
        xhr.send();

        xhr.onload = function () {
            let responseObj = xhr.response;
            let title = responseObj.title;
            console.log("Ajax przyklad - Tytuł: ", title); 
            console.log("Ajax dodawanie liczb = " + (responseObj.userId + responseObj.id))
            console.log("Ajax dodawanie stringow = " + responseObj.title + responseObj.body)
        };
        xhr.onerror = function () {
            console.log("Ajax error"); 
        }

        //zad5 fetch
        
        const posty_fet = fetch('https://jsonplaceholder.typicode.com/posts');

        posty_fet

            .then(
                function (response) {
                    if (response.status !== 200) {
                        console.log('Wystąpił błąd : ' +
                            response.status);
                        return;
                    }

                    response.json().then(function (data) {
                        console.log('Fetch suma liczb = ' + (data[0].id + data[1].id));
                        console.log('Fetch laczenie stringow = ' + (data[5].title, data[2].title));

                    });
                }
            )
            .catch(function (err) {
                console.log('Fetch Error :-S', err);
            })


            .finally(() => console.log("Fetch wykonany!"));

   


      //zad6 axios
        axios.get('https://jsonplaceholder.typicode.com/posts')
            .then((response) => {
                console.log("Wynik dodawania liczb axios: " +( response.data[0].id + response.data[1].id));
                console.log("Wynik dodawania stringow axios: " + response.data[5].title + response.data[2].title);
            })
            .catch(function (error) {
                console.log("Axios blad: ", error);
            })
            .finally(() => console.log('Axios koniec'));

   
       
       
       

    </script>
</body>
</html>